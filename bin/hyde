#!/usr/bin/env ruby
require './lib/structure'
require './lib/output_structure'
require './lib/blog_post'

args = ARGV
case args[0]
when "new"
  Structure.new(args[1])
when "build"
  raise ArgumentError.new("PATH DOES NOT EXIST!") if File.directory?(args[1])
  OutputStructure.new(args[1])
when "post"
  raise ArgumentError.new("PATH DOES NOT EXIST!") if File.directory?(args[1])
  BlogPost.new(args[1], args[2..-1])
when "run"
  `open http://localhost:5000`
  `ruby -run -e httpd ./lib/blog/_output -p 5000`
end
